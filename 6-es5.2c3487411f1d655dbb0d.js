function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function _createClass(n,e,t){return e&&_defineProperties(n.prototype,e),t&&_defineProperties(n,t),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{lXdu:function(n,e,t){"use strict";t.r(e),t.d(e,"BooksModule",(function(){return U}));var i,o,c=t("ofXK"),b=t("tyNb"),r=t("kt0X"),s=Object(r.n)("[Book] Load Books"),a=Object(r.n)("[Book] Load Books Success",Object(r.s)()),u=Object(r.n)("[Book] Load Books Failure",Object(r.s)()),l=Object(r.p)({books:[],loading:!1},Object(r.r)(s,(function(n){return Object.assign(Object.assign({},n),{loading:!0})})),Object(r.r)(a,(function(n,e){return Object.assign(Object.assign({},n),{books:e.books,loading:!1})})),Object(r.r)(u,(function(n,e){return Object.assign(Object.assign({},n),{loading:!1})}))),f=Object(r.o)("book"),d=Object(r.q)(f,(function(n){return n.loading})),k=Object(r.q)(f,(function(n){return n.books})),h=t("fXoL"),g=((o=function(){function n(){_classCallCheck(this,n)}return _createClass(n,[{key:"onMouseEnter",value:function(){this.isZoomed=!0}},{key:"onMouseLeave",value:function(){this.isZoomed=!1}}]),n}()).\u0275fac=function(n){return new(n||o)},o.\u0275dir=h.Eb({type:o,selectors:[["","bmZoom",""]],hostVars:2,hostBindings:function(n,e){1&n&&h.Wb("mouseenter",(function(){return e.onMouseEnter()}))("mouseleave",(function(){return e.onMouseLeave()})),2&n&&h.Bb("small",e.isZoomed)}}),o),m=((i=function(){function n(){_classCallCheck(this,n)}return _createClass(n,[{key:"transform",value:function(n){return n?"".concat(n.substr(0,3),"-").concat(n.substr(3)):null}}]),n}()).\u0275fac=function(n){return new(n||i)},i.\u0275pipe=h.Ib({name:"isbn",type:i,pure:!0}),i);function p(n,e){if(1&n&&h.Kb(0,"img",6),2&n){var t=h.Yb();h.cc("src",t.book.thumbnails[0].url,h.hc)}}function v(n,e){if(1&n&&(h.Ob(0,"div",7),h.lc(1),h.Nb()),2&n){var t=h.Yb();h.zb(1),h.mc(t.book.subtitle)}}function O(n,e){1&n&&(h.Ob(0,"span"),h.lc(1,", "),h.Nb())}function j(n,e){if(1&n&&(h.Ob(0,"span"),h.lc(1),h.jc(2,O,2,0,"span",8),h.Nb()),2&n){var t=e.$implicit,i=e.last;h.zb(1),h.nc(" ",t,""),h.zb(1),h.cc("ngIf",!i)}}var y,w=((y=function(){function n(){_classCallCheck(this,n)}return _createClass(n,[{key:"ngOnInit",value:function(){}}]),n}()).\u0275fac=function(n){return new(n||y)},y.\u0275cmp=h.Db({type:y,selectors:[["bm-book-list-item"]],inputs:{book:"book"},decls:10,vars:7,consts:[["class","ui tiny image","bmZoom","",3,"src",4,"ngIf"],[1,"content"],[1,"header"],["class","description",4,"ngIf"],[1,"metadata"],[4,"ngFor","ngForOf"],["bmZoom","",1,"ui","tiny","image",3,"src"],[1,"description"],[4,"ngIf"]],template:function(n,e){1&n&&(h.jc(0,p,1,1,"img",0),h.Ob(1,"div",1),h.Ob(2,"div",2),h.lc(3),h.Nb(),h.jc(4,v,2,1,"div",3),h.Ob(5,"div",4),h.jc(6,j,3,2,"span",5),h.Kb(7,"br"),h.lc(8),h.Zb(9,"isbn"),h.Nb(),h.Nb()),2&n&&(h.cc("ngIf",e.book.thumbnails&&e.book.thumbnails[0]&&e.book.thumbnails[0].url),h.zb(3),h.mc(e.book.title),h.zb(1),h.cc("ngIf",e.book.subtitle),h.zb(2),h.cc("ngForOf",e.book.authors),h.zb(2),h.nc(" ISBN ",h.ac(9,5,e.book.isbn)," "))},directives:[c.k,c.j,g],pipes:[m],styles:[""]}),y);function C(n,e){if(1&n&&h.Kb(0,"bm-book-list-item",3),2&n){var t=e.$implicit;h.cc("book",t)("routerLink",t.isbn)}}function N(n,e){1&n&&(h.Ob(0,"p"),h.lc(1,"Es wurden noch keine B\xfccher eingetragen."),h.Nb())}function I(n,e){if(1&n&&(h.Mb(0),h.jc(1,C,1,2,"bm-book-list-item",2),h.jc(2,N,2,0,"p",1),h.Lb()),2&n){var t=e.ngIf;h.zb(1),h.cc("ngForOf",t),h.zb(1),h.cc("ngIf",!t.length)}}function z(n,e){1&n&&(h.Mb(0),h.Ob(1,"div",4),h.Ob(2,"div",5),h.lc(3,"Daten werden geladen..."),h.Nb(),h.Nb(),h.Lb())}var _,B,F=((_=function(){function n(e){_classCallCheck(this,n),this.store=e,this.books$=this.store.pipe(Object(r.t)(k)),this.loading$=this.store.pipe(Object(r.t)(d))}return _createClass(n,[{key:"ngOnInit",value:function(){this.store.dispatch(s())}}]),n}()).\u0275fac=function(n){return new(n||_)(h.Jb(r.h))},_.\u0275cmp=h.Db({type:_,selectors:[["bm-book-list"]],decls:5,vars:6,consts:[[1,"ui","middle","aligned","selection","divided","list"],[4,"ngIf"],["class","item",3,"book","routerLink",4,"ngFor","ngForOf"],[1,"item",3,"book","routerLink"],[1,"ui","active","dimmer"],[1,"ui","large","text","loader"]],template:function(n,e){1&n&&(h.Ob(0,"div",0),h.jc(1,I,3,2,"ng-container",1),h.Zb(2,"async"),h.jc(3,z,4,0,"ng-container",1),h.Zb(4,"async"),h.Nb()),2&n&&(h.zb(1),h.cc("ngIf",h.ac(2,2,e.books$)),h.zb(2),h.cc("ngIf",h.ac(4,4,e.loading$)))},directives:[c.k,c.j,w,b.c],pipes:[c.b],styles:[""]}),_),L=t("Mc/V"),K=((B=function(){function n(e,t){_classCallCheck(this,n),this.templateRef=e,this.viewContainerRef=t}return _createClass(n,[{key:"ngOnInit",value:function(){var n=this;setTimeout((function(){n.viewContainerRef.createEmbeddedView(n.templateRef)}),this.bmDelay)}}]),n}()).\u0275fac=function(n){return new(n||B)(h.Jb(h.K),h.Jb(h.N))},B.\u0275dir=h.Eb({type:B,selectors:[["","bmDelay",""]],inputs:{bmDelay:"bmDelay"}}),B);function D(n,e){if(1&n&&(h.Ob(0,"h3"),h.lc(1),h.Nb()),2&n){var t=h.Yb(2);h.zb(1),h.mc(t.book.subtitle)}}function M(n,e){if(1&n&&(h.Mb(0),h.lc(1),h.Kb(2,"br"),h.Lb()),2&n){var t=e.$implicit;h.zb(1),h.nc(" ",t,"")}}function Z(n,e){1&n&&h.Kb(0,"i",14)}function $(n,e){if(1&n&&(h.Mb(0),h.jc(1,Z,1,0,"i",13),h.Lb()),2&n){var t=e.index;h.zb(1),h.cc("bmDelay",500+200*t)}}function E(n,e){1&n&&h.Kb(0,"img",15),2&n&&h.cc("src",e.$implicit.url,h.hc)}var J=function(n){return["../../admin/edit",n]};function R(n,e){if(1&n){var t=h.Pb();h.Ob(0,"div"),h.Ob(1,"h1"),h.lc(2),h.Nb(),h.jc(3,D,2,1,"h3",2),h.Kb(4,"div",3),h.Ob(5,"div",4),h.Ob(6,"div",5),h.Ob(7,"h4"),h.lc(8,"Autoren"),h.Nb(),h.jc(9,M,3,1,"ng-container",6),h.Nb(),h.Ob(10,"div",5),h.Ob(11,"h4"),h.lc(12,"ISBN"),h.Nb(),h.lc(13),h.Zb(14,"isbn"),h.Nb(),h.Ob(15,"div",5),h.Ob(16,"h4"),h.lc(17,"Erschienen"),h.Nb(),h.lc(18),h.Zb(19,"date"),h.Nb(),h.Ob(20,"div",5),h.Ob(21,"h4"),h.lc(22,"Rating"),h.Nb(),h.jc(23,$,2,1,"ng-container",6),h.Nb(),h.Nb(),h.Ob(24,"h4"),h.lc(25,"Beschreibung"),h.Nb(),h.Ob(26,"p"),h.lc(27),h.Nb(),h.Ob(28,"div",7),h.jc(29,E,1,1,"img",8),h.Nb(),h.Ob(30,"button",9),h.Wb("click",(function(){return h.gc(t),h.Yb().removeBook()})),h.Kb(31,"i",10),h.lc(32," Buch l\xf6schen "),h.Nb(),h.Ob(33,"a",11),h.Kb(34,"i",12),h.lc(35," Buch bearbeiten "),h.Nb(),h.Nb()}if(2&n){var i=h.Yb();h.zb(2),h.mc(i.book.title),h.zb(1),h.cc("ngIf",i.book.subtitle),h.zb(6),h.cc("ngForOf",i.book.authors),h.zb(4),h.nc(" ",h.ac(14,9,i.book.isbn)," "),h.zb(5),h.nc(" ",h.bc(19,11,i.book.published,"longDate")," "),h.zb(5),h.cc("ngForOf",i.getRating(i.book.rating)),h.zb(4),h.mc(i.book.description),h.zb(2),h.cc("ngForOf",i.book.thumbnails),h.zb(4),h.cc("routerLink",h.dc(14,J,i.book.isbn))}}function S(n,e){1&n&&h.Kb(0,"div",16)}var P,Y,X,x,A=[{path:"",component:F},{path:":isbn",component:(P=function(){function n(e,t,i){_classCallCheck(this,n),this.bs=e,this.router=t,this.route=i}return _createClass(n,[{key:"ngOnInit",value:function(){var n=this;this.bs.getSingle(this.route.snapshot.paramMap.get("isbn")).subscribe((function(e){return n.book=e}))}},{key:"getRating",value:function(n){return new Array(n)}},{key:"removeBook",value:function(){var n=this;confirm("Buch wirklich l\xf6schen?")&&this.bs.remove(this.book.isbn).subscribe((function(e){return n.router.navigate(["../"],{relativeTo:n.route})}))}}]),n}(),P.\u0275fac=function(n){return new(n||P)(h.Jb(L.a),h.Jb(b.b),h.Jb(b.a))},P.\u0275cmp=h.Db({type:P,selectors:[["bm-book-details"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loading",""],[4,"ngIf"],[1,"ui","divider"],[1,"ui","grid"],[1,"four","wide","column"],[4,"ngFor","ngForOf"],[1,"ui","small","images"],[3,"src",4,"ngFor","ngForOf"],[1,"ui","tiny","red","labeled","icon","button",3,"click"],[1,"remove","icon"],[1,"ui","tiny","yellow","labeled","icon","button",3,"routerLink"],[1,"write","icon"],["class","yellow star icon",4,"bmDelay"],[1,"yellow","star","icon"],[3,"src"],[1,"ui","active","centered","inline","loader"]],template:function(n,e){if(1&n&&(h.jc(0,R,36,16,"div",0),h.jc(1,S,1,0,"ng-template",null,1,h.kc)),2&n){var t=h.fc(2);h.cc("ngIf",e.book)("ngIfElse",t)}},directives:[c.k,c.j,b.e,K],pipes:[m,c.e],styles:[""]}),P)}],T=((Y=function n(){_classCallCheck(this,n)}).\u0275mod=h.Hb({type:Y}),Y.\u0275inj=h.Gb({factory:function(n){return new(n||Y)},providers:[],imports:[[b.f.forChild(A)],b.f]}),Y),V=t("snw9"),q=t("eIep"),G=t("lJxs"),H=t("JIr8"),W=t("LRne"),Q=((x=function n(e,t){var i=this;_classCallCheck(this,n),this.actions$=e,this.bs=t,this.loadBooks$=Object(V.c)((function(){return i.actions$.pipe(Object(V.d)(s),Object(q.a)((function(){return i.bs.getAll().pipe(Object(G.a)((function(n){return a({books:n})})),Object(H.a)((function(n){return Object(W.a)(u({error:n}))})))})))}))}).\u0275fac=function(n){return new(n||x)(h.Sb(V.a),h.Sb(L.a))},x.\u0275prov=h.Fb({token:x,factory:x.\u0275fac}),x),U=((X=function n(){_classCallCheck(this,n)}).\u0275mod=h.Hb({type:X}),X.\u0275inj=h.Gb({factory:function(n){return new(n||X)},imports:[[c.c,T,r.j.forFeature("book",l),V.b.forFeature([Q])]]}),X)}}]);