(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{lXdu:function(t,n,o){"use strict";o.r(n),o.d(n,"BooksModule",(function(){return V}));var e=o("ofXK"),i=o("tyNb"),c=o("kt0X");const b=Object(c.n)("[Book] Load Books"),s=Object(c.n)("[Book] Load Books Success",Object(c.s)()),r=Object(c.n)("[Book] Load Books Failure",Object(c.s)()),a=Object(c.p)({books:[],loading:!1},Object(c.r)(b,t=>Object.assign(Object.assign({},t),{loading:!0})),Object(c.r)(s,(t,n)=>Object.assign(Object.assign({},t),{books:n.books,loading:!1})),Object(c.r)(r,(t,n)=>Object.assign(Object.assign({},t),{loading:!1}))),l=Object(c.o)("book"),u=Object(c.q)(l,t=>t.loading),f=Object(c.q)(l,t=>t.books);var d=o("fXoL");let g=(()=>{class t{onMouseEnter(){this.isZoomed=!0}onMouseLeave(){this.isZoomed=!1}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=d.Eb({type:t,selectors:[["","bmZoom",""]],hostVars:2,hostBindings:function(t,n){1&t&&d.Wb("mouseenter",(function(){return n.onMouseEnter()}))("mouseleave",(function(){return n.onMouseLeave()})),2&t&&d.Bb("small",n.isZoomed)}}),t})(),m=(()=>{class t{transform(t){return t?`${t.substr(0,3)}-${t.substr(3)}`:null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=d.Ib({name:"isbn",type:t,pure:!0}),t})();function p(t,n){if(1&t&&d.Kb(0,"img",6),2&t){const t=d.Yb();d.cc("src",t.book.thumbnails[0].url,d.hc)}}function k(t,n){if(1&t&&(d.Ob(0,"div",7),d.lc(1),d.Nb()),2&t){const t=d.Yb();d.zb(1),d.mc(t.book.subtitle)}}function h(t,n){1&t&&(d.Ob(0,"span"),d.lc(1,", "),d.Nb())}function O(t,n){if(1&t&&(d.Ob(0,"span"),d.lc(1),d.jc(2,h,2,0,"span",8),d.Nb()),2&t){const t=n.$implicit,o=n.last;d.zb(1),d.nc(" ",t,""),d.zb(1),d.cc("ngIf",!o)}}let j=(()=>{class t{ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=d.Db({type:t,selectors:[["bm-book-list-item"]],inputs:{book:"book"},decls:10,vars:7,consts:[["class","ui tiny image","bmZoom","",3,"src",4,"ngIf"],[1,"content"],[1,"header"],["class","description",4,"ngIf"],[1,"metadata"],[4,"ngFor","ngForOf"],["bmZoom","",1,"ui","tiny","image",3,"src"],[1,"description"],[4,"ngIf"]],template:function(t,n){1&t&&(d.jc(0,p,1,1,"img",0),d.Ob(1,"div",1),d.Ob(2,"div",2),d.lc(3),d.Nb(),d.jc(4,k,2,1,"div",3),d.Ob(5,"div",4),d.jc(6,O,3,2,"span",5),d.Kb(7,"br"),d.lc(8),d.Zb(9,"isbn"),d.Nb(),d.Nb()),2&t&&(d.cc("ngIf",n.book.thumbnails&&n.book.thumbnails[0]&&n.book.thumbnails[0].url),d.zb(3),d.mc(n.book.title),d.zb(1),d.cc("ngIf",n.book.subtitle),d.zb(2),d.cc("ngForOf",n.book.authors),d.zb(2),d.nc(" ISBN ",d.ac(9,5,n.book.isbn)," "))},directives:[e.k,e.j,g],pipes:[m],styles:[""]}),t})();function v(t,n){if(1&t&&d.Kb(0,"bm-book-list-item",3),2&t){const t=n.$implicit;d.cc("book",t)("routerLink",t.isbn)}}function y(t,n){1&t&&(d.Ob(0,"p"),d.lc(1,"Es wurden noch keine B\xfccher eingetragen."),d.Nb())}function N(t,n){if(1&t&&(d.Mb(0),d.jc(1,v,1,2,"bm-book-list-item",2),d.jc(2,y,2,0,"p",1),d.Lb()),2&t){const t=n.ngIf;d.zb(1),d.cc("ngForOf",t),d.zb(1),d.cc("ngIf",!t.length)}}function w(t,n){1&t&&(d.Mb(0),d.Ob(1,"div",4),d.Ob(2,"div",5),d.lc(3,"Daten werden geladen..."),d.Nb(),d.Nb(),d.Lb())}let I=(()=>{class t{constructor(t){this.store=t,this.books$=this.store.pipe(Object(c.t)(f)),this.loading$=this.store.pipe(Object(c.t)(u))}ngOnInit(){this.store.dispatch(b())}}return t.\u0275fac=function(n){return new(n||t)(d.Jb(c.h))},t.\u0275cmp=d.Db({type:t,selectors:[["bm-book-list"]],decls:5,vars:6,consts:[[1,"ui","middle","aligned","selection","divided","list"],[4,"ngIf"],["class","item",3,"book","routerLink",4,"ngFor","ngForOf"],[1,"item",3,"book","routerLink"],[1,"ui","active","dimmer"],[1,"ui","large","text","loader"]],template:function(t,n){1&t&&(d.Ob(0,"div",0),d.jc(1,N,3,2,"ng-container",1),d.Zb(2,"async"),d.jc(3,w,4,0,"ng-container",1),d.Zb(4,"async"),d.Nb()),2&t&&(d.zb(1),d.cc("ngIf",d.ac(2,2,n.books$)),d.zb(2),d.cc("ngIf",d.ac(4,4,n.loading$)))},directives:[e.k,e.j,j,i.c],pipes:[e.b],styles:[""]}),t})();var z=o("Mc/V");let B=(()=>{class t{constructor(t,n){this.templateRef=t,this.viewContainerRef=n}ngOnInit(){setTimeout(()=>{this.viewContainerRef.createEmbeddedView(this.templateRef)},this.bmDelay)}}return t.\u0275fac=function(n){return new(n||t)(d.Jb(d.K),d.Jb(d.N))},t.\u0275dir=d.Eb({type:t,selectors:[["","bmDelay",""]],inputs:{bmDelay:"bmDelay"}}),t})();function F(t,n){if(1&t&&(d.Ob(0,"h3"),d.lc(1),d.Nb()),2&t){const t=d.Yb(2);d.zb(1),d.mc(t.book.subtitle)}}function L(t,n){if(1&t&&(d.Mb(0),d.lc(1),d.Kb(2,"br"),d.Lb()),2&t){const t=n.$implicit;d.zb(1),d.nc(" ",t,"")}}function $(t,n){1&t&&d.Kb(0,"i",14)}function K(t,n){if(1&t&&(d.Mb(0),d.jc(1,$,1,0,"i",13),d.Lb()),2&t){const t=n.index;d.zb(1),d.cc("bmDelay",500+200*t)}}function D(t,n){1&t&&d.Kb(0,"img",15),2&t&&d.cc("src",n.$implicit.url,d.hc)}const M=function(t){return["../../admin/edit",t]};function Z(t,n){if(1&t){const t=d.Pb();d.Ob(0,"div"),d.Ob(1,"h1"),d.lc(2),d.Nb(),d.jc(3,F,2,1,"h3",2),d.Kb(4,"div",3),d.Ob(5,"div",4),d.Ob(6,"div",5),d.Ob(7,"h4"),d.lc(8,"Autoren"),d.Nb(),d.jc(9,L,3,1,"ng-container",6),d.Nb(),d.Ob(10,"div",5),d.Ob(11,"h4"),d.lc(12,"ISBN"),d.Nb(),d.lc(13),d.Zb(14,"isbn"),d.Nb(),d.Ob(15,"div",5),d.Ob(16,"h4"),d.lc(17,"Erschienen"),d.Nb(),d.lc(18),d.Zb(19,"date"),d.Nb(),d.Ob(20,"div",5),d.Ob(21,"h4"),d.lc(22,"Rating"),d.Nb(),d.jc(23,K,2,1,"ng-container",6),d.Nb(),d.Nb(),d.Ob(24,"h4"),d.lc(25,"Beschreibung"),d.Nb(),d.Ob(26,"p"),d.lc(27),d.Nb(),d.Ob(28,"div",7),d.jc(29,D,1,1,"img",8),d.Nb(),d.Ob(30,"button",9),d.Wb("click",(function(){return d.gc(t),d.Yb().removeBook()})),d.Kb(31,"i",10),d.lc(32," Buch l\xf6schen "),d.Nb(),d.Ob(33,"a",11),d.Kb(34,"i",12),d.lc(35," Buch bearbeiten "),d.Nb(),d.Nb()}if(2&t){const t=d.Yb();d.zb(2),d.mc(t.book.title),d.zb(1),d.cc("ngIf",t.book.subtitle),d.zb(6),d.cc("ngForOf",t.book.authors),d.zb(4),d.nc(" ",d.ac(14,9,t.book.isbn)," "),d.zb(5),d.nc(" ",d.bc(19,11,t.book.published,"longDate")," "),d.zb(5),d.cc("ngForOf",t.getRating(t.book.rating)),d.zb(4),d.mc(t.book.description),d.zb(2),d.cc("ngForOf",t.book.thumbnails),d.zb(4),d.cc("routerLink",d.dc(14,M,t.book.isbn))}}function J(t,n){1&t&&d.Kb(0,"div",16)}const E=[{path:"",component:I},{path:":isbn",component:(()=>{class t{constructor(t,n,o){this.bs=t,this.router=n,this.route=o}ngOnInit(){this.bs.getSingle(this.route.snapshot.paramMap.get("isbn")).subscribe(t=>this.book=t)}getRating(t){return new Array(t)}removeBook(){confirm("Buch wirklich l\xf6schen?")&&this.bs.remove(this.book.isbn).subscribe(t=>this.router.navigate(["../"],{relativeTo:this.route}))}}return t.\u0275fac=function(n){return new(n||t)(d.Jb(z.a),d.Jb(i.b),d.Jb(i.a))},t.\u0275cmp=d.Db({type:t,selectors:[["bm-book-details"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loading",""],[4,"ngIf"],[1,"ui","divider"],[1,"ui","grid"],[1,"four","wide","column"],[4,"ngFor","ngForOf"],[1,"ui","small","images"],[3,"src",4,"ngFor","ngForOf"],[1,"ui","tiny","red","labeled","icon","button",3,"click"],[1,"remove","icon"],[1,"ui","tiny","yellow","labeled","icon","button",3,"routerLink"],[1,"write","icon"],["class","yellow star icon",4,"bmDelay"],[1,"yellow","star","icon"],[3,"src"],[1,"ui","active","centered","inline","loader"]],template:function(t,n){if(1&t&&(d.jc(0,Z,36,16,"div",0),d.jc(1,J,1,0,"ng-template",null,1,d.kc)),2&t){const t=d.fc(2);d.cc("ngIf",n.book)("ngIfElse",t)}},directives:[e.k,e.j,i.e,B],pipes:[m,e.e],styles:[""]}),t})()}];let R=(()=>{class t{}return t.\u0275mod=d.Hb({type:t}),t.\u0275inj=d.Gb({factory:function(n){return new(n||t)},providers:[],imports:[[i.f.forChild(E)],i.f]}),t})();var S=o("snw9"),Y=o("eIep"),X=o("lJxs"),x=o("JIr8"),A=o("LRne");let C=(()=>{class t{constructor(t,n){this.actions$=t,this.bs=n,this.loadBooks$=Object(S.c)(()=>this.actions$.pipe(Object(S.d)(b),Object(Y.a)(()=>this.bs.getAll().pipe(Object(X.a)(t=>s({books:t})),Object(x.a)(t=>Object(A.a)(r({error:t})))))))}}return t.\u0275fac=function(n){return new(n||t)(d.Sb(S.a),d.Sb(z.a))},t.\u0275prov=d.Fb({token:t,factory:t.\u0275fac}),t})(),V=(()=>{class t{}return t.\u0275mod=d.Hb({type:t}),t.\u0275inj=d.Gb({factory:function(n){return new(n||t)},imports:[[e.c,R,c.j.forFeature("book",a),S.b.forFeature([C])]]}),t})()}}]);